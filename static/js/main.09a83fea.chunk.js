(this["webpackJsonpimage-edit"]=this["webpackJsonpimage-edit"]||[]).push([[0],{335:function(e,t){},336:function(e,t){},337:function(e,t){},342:function(e,t,n){},343:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),o=n(19),i=n.n(o),s=n(104),l=n(29),d=(n(92),n(57)),u=n.n(d),A=n.p+"static/media/test.39f28125.jpg",h=n(1);var f=function(){var e=Object(c.useRef)(null);return Object(c.useEffect)((function(){var t=.5,n=1.5;(null===e||void 0===e?void 0:e.current)&&(a=new u.a(e.current,{ready:function(){var e,c=a.getContainerData(),r=a.getCropBoxData(),o=r.width/r.height;(o<t||o>n)&&(e=1*r.height,a.setCropBoxData({left:(c.width-e)/2,width:e}))},cropmove:function(){var e=a.getCropBoxData(),c=e.width/e.height;c<t?a.setCropBoxData({width:e.height*t}):c>n&&a.setCropBoxData({width:e.height*n})}}))}),[]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Cropper with a range of aspect ratio"}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{id:"image",ref:e,src:A,alt:"aaapicture"})})]})},b=n(11),j=n.n(b),g=n(35),m=n(20),p=n(8),O=n(354),x=n(355),v=n(357),w=n(352),y=n(46),k=n.n(y),C=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))};var E=function(){var e,t=r.a.useState(2),n=Object(p.a)(t,2),a=n[0],o=n[1],i=Object(c.useRef)([]),s=Object(c.useState)([void 0,void 0,void 0,void 0]),l=Object(p.a)(s,2),d=l[0],A=l[1],f=Object(c.useState)(void 0),b=Object(p.a)(f,2);b[0],b[1],Object(c.useEffect)((function(){e=[];var t=document.getElementsByClassName("image");console.log("images",t);for(var n=t.length,a=0;a<n;a++)e.push(new u.a(t[a],{viewMode:3,dragMode:"move"}));console.log("image",t)}),[a,d]);var y=function(){var e=Object(m.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.file,t.fileList,console.log("file",a,t),e.next=5,C(a);case 5:c=e.sent,console.log("baseUrlEncoding",c),A((function(e){var t=Object(g.a)(e);return t[n]=c,console.log(t),t})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Cropper with a range of aspect ratio"}),Object(h.jsxs)(O.a.Group,{onChange:function(e){console.log("e",e.target.value),o(e.target.value)},value:a,children:[Object(h.jsx)(O.a,{value:2,children:"2\ubd84\ud560"}),Object(h.jsx)(O.a,{value:3,children:"3\ubd84\ud560"}),Object(h.jsx)(O.a,{value:4,children:"4\ubd84\ud560"})]}),2===a&&Object(h.jsxs)(x.a,{children:[Object(h.jsx)(v.a,{style:{width:"320px",height:"640px"},children:Object(h.jsx)(k.a,{style:{width:"100%",height:"100%",padding:0},showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,0)},disabled:d[0],children:d[0]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[0]=e},src:d[0],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})}),Object(h.jsx)(v.a,{style:{width:"320px",height:"640px",padding:0},children:Object(h.jsx)(k.a,{style:{width:"100%",height:"100%"},showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,1)},disabled:d[1],children:d[1]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[1]=e},src:d[1],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})})]}),3===a&&Object(h.jsxs)(x.a,{children:[Object(h.jsx)(v.a,{style:{width:"213.333333px",height:"640px"},children:Object(h.jsx)(k.a,{style:{padding:0},showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,0)},disabled:d[0],children:d[0]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[0]=e},src:d[0],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})}),Object(h.jsx)(v.a,{style:{width:"213.333333px",height:"640px",padding:0},children:Object(h.jsx)(k.a,{showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,1)},disabled:d[1],children:d[1]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[1]=e},src:d[1],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})}),Object(h.jsx)(v.a,{style:{width:"213.333333px",height:"640px",padding:0},children:Object(h.jsx)(k.a,{showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,2)},disabled:d[2],children:d[2]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[2]=e},src:d[2],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})})]}),4===a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(x.a,{children:[Object(h.jsx)(v.a,{style:{width:"320px",height:"320px"},children:Object(h.jsx)(k.a,{style:{width:"100%",height:"100%",padding:0},showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,0)},disabled:d[0],children:d[0]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[0]=e},src:d[0],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})}),Object(h.jsx)(v.a,{style:{width:"320px",height:"320px",padding:0},children:Object(h.jsx)(k.a,{style:{width:"100%",height:"100%"},showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,1)},disabled:d[1],children:d[1]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[1]=e},src:d[1],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})})]}),Object(h.jsxs)(x.a,{children:[Object(h.jsx)(v.a,{style:{width:"320px",height:"320px",padding:0},children:Object(h.jsx)(k.a,{showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,2)},disabled:d[2],children:d[2]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[2]=e},src:d[2],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})}),Object(h.jsx)(v.a,{style:{width:"320px",height:"320px",padding:0},children:Object(h.jsx)(k.a,{showUploadList:!1,beforeUpload:function(){return!1},onChange:function(e){y(e,3)},disabled:d[3],children:d[3]?Object(h.jsx)("img",{className:"image",ref:function(e){return i.current[3]=e},src:d[3],alt:"aaapicture"}):Object(h.jsx)(h.Fragment,{children:"\uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud574\uc8fc\uc138\uc694."})})})]})]}),Object(h.jsx)(w.a,{onClick:function(){var t=document.createElement("canvas");document.body.appendChild(t),t.width=1280,t.height=1280;var n=t.getContext("2d"),a=new Image,c=new Image;console.log("cropper",e),console.log("1\ubc88",e[0].getCroppedCanvas()),console.log("2\ubc88",e[1].getCroppedCanvas()),a.src=d[0],a.onload=function(){n.drawImage(a,0,0,640,1280),c.src=d[1],c.onload=function(){n.drawImage(c,640,0,640,1280);var e=t.toDataURL("image/png"),a=document.createElement("a");a.download="from_canvas.png",a.href=e,a.click()}}},children:"\ud569\uce58\uae30"})]})},U=n(152);var R=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){var e=localStorage.getItem("filesBase64");e&&a(JSON.parse(e))}),[]);var r=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},o=function(){var e=Object(m.a)(j.a.mark((function e(t){var c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],o={maxSizeMB:.2,maxWidthOrHeight:1920,useWebWorker:!0},e.next=4,Object(U.a)(c,o);case 4:i=e.sent,console.log("\uc555\ucd95\ud30c\uc77c \uc6a9\ub7c9",i.size,i),console.log("\uc77c\ubc18\ud30c\uc77c \uc6a9\ub7c9",c.size),r(i).then((function(e){try{var c=[].concat(Object(g.a)(n),[e]);localStorage.setItem("filesBase64",JSON.stringify(c)),a(c)}catch(t){alert(t),console.log("e",t)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"\uc6a9\ub7c9\uc555\ucd95 + base64 \ubcc0\ud658 \ud6c4 localStorage \uc800\uc7a5"}),Object(h.jsx)("input",{type:"file",id:"imageFile",name:"imageFile",onChange:o}),Object(h.jsx)("span",{children:"image List"}),function(){var e=JSON.parse(localStorage.getItem("filesBase64"));return console.log("list",e),console.log("list parse",e),e?e.map((function(e){return Object(h.jsx)("img",{src:e,alt:"ddd",style:{width:"200px"}})})):Object(h.jsx)(h.Fragment,{})}()]})};var F=function(){var e=Object(c.useState)(null),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"\uba54\ud0c0\uc815\ubcf4\ub97c \uad6c\ud574\ubcf4\uc790"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{id:"image",src:A,alt:"aaapicture",onLoad:function(e){console.dir(e.target),console.log("e.target",e.target);var t=e.target,n=t.naturalWidth,c=t.naturalHeight;a({naturalWidth:n,naturalHeight:c})}}),null===n||void 0===n?void 0:n.naturalWidth," x ",null===n||void 0===n?void 0:n.naturalHeight]})]})},I=(n(329),n(153)),S=n.n(I);var B=function(){var e=Object(c.useRef)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{ref:e,includeUI:{loadImage:{path:A,name:"SampleImage"},menu:["crop","flip","rotate","shape","icon","text","mask","filter"],initMenu:"filter",uiSize:{width:"1000px",height:"700px"},menuBarPosition:"bottom"},cssMaxHeight:500,cssMaxWidth:700,selectionStyle:{cornerSize:20,rotatingPointOffset:70},usageStatistics:!0}),Object(h.jsx)(w.a,{onClick:function(){var t=e.current.getInstance();console.log("el",t),t.setDrawingShape("rect",{fill:{type:"filter",filter:[{blur:.3},{pixelate:20}]},width:100,height:200})},children:"123"})]})},L=n(154),D=function(){var e=Object(c.useRef)(null);return Object(h.jsx)(L.a,{src:"https://raw.githubusercontent.com/roadmanfong/react-cropper/master/example/img/child.jpg",style:{height:400,width:"100%"},initialAspectRatio:16/9,guides:!1,crop:function(){var t=null===e||void 0===e?void 0:e.current,n=null===t||void 0===t?void 0:t.cropper;console.log(n.getCroppedCanvas().toDataURL())},ref:e})},N=n(18),Y=(n(103),function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))}),Q=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],o=r.a.useReducer((function(){return{}}),{})[1],i=function(){var e=new N.fabric.Canvas("canvas",{height:800,width:800,controlsAboveOverlay:!0,backgroundColor:"#fff"});e.on("history:append",(function(){o()})),e.on("history:undo",(function(){o()})),e.on("history:redo",(function(){o()}));var t=new N.fabric.Rect({width:400,height:400,left:200,top:200,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1});return e.clipPath=t,e.on("after:render",(function(t){!function(t){t||(t=25);var n,a,c=e.getContext("2d"),r=e.getWidth(),o=e.getHeight();for(n=0;n<=r;n+=t)c.moveTo(n+.5,0),c.lineTo(n+.5,o);for(a=0;a<=o;a+=t)c.moveTo(0,a+.5),c.lineTo(r,a+.5);c.strokeStyle="#0000002b",c.stroke()}(100)})),e.renderAll(),e},s=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){l(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(i())}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:s}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:1280,height:1280,style:{border:"1px solid gray"}})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),Object(h.jsx)("button",{onClick:function(){var e,t,a,c,r,o,i,s,l,d,u,A,h=n._objects[0];console.log("tl x 200\ubcf4\ub2e4 \ud070\uac00",null===(e=h.aCoords)||void 0===e?void 0:e.tl.x,(null===(t=h.aCoords)||void 0===t?void 0:t.tl.x)>=200),console.log("tl y 200\ubcf4\ub2e4 \uc791\uc740\uac00",null===(a=h.aCoords)||void 0===a?void 0:a.tl.y,(null===(c=h.aCoords)||void 0===c?void 0:c.tl.y)>=200);var f=(null===(r=h.aCoords)||void 0===r?void 0:r.tl.x)>200||(null===(o=h.aCoords)||void 0===o?void 0:o.tl.y)>200,b=(null===(i=h.aCoords)||void 0===i?void 0:i.tr.x)<600||(null===(s=h.aCoords)||void 0===s?void 0:s.tr.y)>200,j=(null===(l=h.aCoords)||void 0===l?void 0:l.bl.x)>200||(null===(d=h.aCoords)||void 0===d?void 0:d.bl.y)<600,g=(null===(u=h.aCoords)||void 0===u?void 0:u.br.x)<600||(null===(A=h.aCoords)||void 0===A?void 0:A.br.y)<600;f||b||j||g?alert("\ud2c0\ub9b0\uacf3\uc774 \uc788\uc2b5\ub2c8\ub2e4 tl:".concat(f," tr:").concat(b," bl:").concat(j," br: ").concat(g)):alert("\ud1b5\uacfc")},children:"\uccb4\ud06c"}),Object(h.jsx)("button",{disabled:(console.log("canRedo"),!(n&&n.historyRedo.length>0)),onClick:function(){n.redo()},children:"redo"}),Object(h.jsx)("button",{disabled:(console.log("canUndo"),!(n&&n.historyUndo.length>0)),onClick:function(){n.undo()},children:"undo"})]})},H=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},W=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],r=function(){var e=new N.fabric.Canvas("canvas",{height:800,width:800});return e.on("after:render",(function(t){!function(t){t||(t=25);var n,a,c=e.getContext("2d"),r=e.getWidth(),o=e.getHeight();for(n=0;n<=r;n+=t)c.moveTo(n+.5,0),c.lineTo(n+.5,o);for(a=0;a<=o;a+=t)c.moveTo(0,a+.5),c.lineTo(r,a+.5);c.strokeStyle="#0000002b",c.stroke()}(100)})),e.renderAll(),e},o=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){i(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(r())}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:o}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:1280,height:1280,style:{border:"1px solid gray"}})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"})]})},z=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},q=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),o=Object(p.a)(r,2),i=o[0],s=o[1],l=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){u(e,n[0])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){u(e,n[1])}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:1280/t.height,originX:"center",originY:"center"});e.scaleToHeight(640),n.add(e),n.centerObject(e),n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a([new N.fabric.Canvas("canvas1",{height:640,width:320}),new N.fabric.Canvas("canvas2",{height:640,width:320})])}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:l}),Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:d}),i,Object(h.jsxs)(x.a,{children:[Object(h.jsx)(v.a,{onClick:function(){return s(0)},children:Object(h.jsx)("canvas",{id:"canvas1",style:{border:"1px solid gray"}})}),Object(h.jsx)(v.a,{onClick:function(){return s(1)},children:Object(h.jsx)("canvas",{id:"canvas2",style:{border:"1px solid gray"}})})]}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("canvas");document.body.appendChild(e),e.width=1280,e.height=1280;var t=e.getContext("2d"),a=new Image,c=new Image;a.src=n[0].toDataURL(),a.onload=function(){t.drawImage(a,0,0,640,1280),c.src=n[1].toDataURL(),c.onload=function(){t.drawImage(c,640,0,640,1280);var n=e.toDataURL("image/png"),a=document.createElement("a");a.download="from_canvas.png",a.href=n,a.click()}}},children:"123"}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("img");e.src="data:image/jpeg;base64,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",e.onload=function(){console.log("20 / imgElement.width",20/e.width,e.width),console.log("20 / imgElement.height",20/e.height,e.height);var t=new N.fabric.Image(e,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",originX:"center",originY:"center"});t.scaleToHeight(640),n[i].add(t),n[i].centerObject(t)}},children:"\ucca8\ubd80\ud558\uae30"})]})},J=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},V=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){o(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(new N.fabric.Canvas("canvas",{height:800,width:800}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:r}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:1280,height:1280,style:{border:"1px solid gray"}})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),Object(h.jsx)("button",{onClick:function(){var e=n.getActiveObject();if(console.log("obj",e.filters),e){var t=new N.fabric.Image.filters.Brightness({brightness:.05});console.log("filter",e.filters),e.filters.push(t),e.applyFilters(),n.renderAll()}},children:"\ubc1d\uac8c"}),Object(h.jsx)("button",{onClick:function(){var e=n.getActiveObject();if(e){var t=new N.fabric.Image.filters.Brightness({brightness:-.05});e.filters.push(t),e.applyFilters(),n.renderAll()}},children:"\uc5b4\ub461\uac8c"})]})},T=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},M=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],o=r.a.useReducer((function(){return{}}),{})[1],i=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){s(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(function(){var e=new N.fabric.Canvas("canvas",{height:800,width:800});return e.on("history:append",(function(){o()})),e.on("history:undo",(function(){o()})),e.on("history:redo",(function(){o()})),e}())}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:i}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:1280,height:1280,style:{border:"1px solid gray"}})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),Object(h.jsx)("button",{disabled:(console.log("canRedo"),!(n&&n.historyRedo.length>0)),onClick:function(){n.redo()},children:"redo"}),Object(h.jsx)("button",{disabled:(console.log("canUndo"),!(n&&n.historyUndo.length>0)),onClick:function(){n.undo()},children:"undo"})]})},P=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},Z=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){o(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(new N.fabric.Canvas("canvas",{height:800,width:800}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:r}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",style:{border:"1px solid gray"}})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),Object(h.jsx)("button",{onClick:function(){console.log("canvas",n)},children:"getcanvas"}),Object(h.jsx)("button",{onClick:function(){console.log(function(e){e.getObjects().forEach((function(e){var t=e.scaleX*e.width,n=e.scaleY*e.height;console.log("imageWidth",t),console.log("imageHeight",n)}))}(n))},children:"check"})]})},G=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))},K=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),o=Object(p.a)(r,2),i=o[0],s=o[1],l=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){d(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(t).then((function(e){try{console.log("base64",e);var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width),console.log("20 / imgElement.height",20/t.height,t.height);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});e.scaleToHeight(640),n.add(e),n.centerObject(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){!function(){var e=new N.fabric.Canvas("canvas",{height:800,width:800,controlsAboveOverlay:!0,backgroundColor:"#fff"}),t=new N.fabric.Rect({width:400,height:400,left:200,top:200,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1});e.clipPath=t,a(e),s(t)}()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:l}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas"})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("canvas");e.width=1280,e.height=1280;var t=e.getContext("2d"),a=new Image;a.src=n.toDataURL({left:i.left,top:i.top,width:i.width,height:i.height,withoutShadow:!0}),a.onload=function(){t.drawImage(a,0,0,1280,1280);var n=e.toDataURL("image/jpg"),c=document.createElement("a");c.download="from_canvas.jpg",c.href=n,c.click()}},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),Object(h.jsx)("button",{onClick:function(){console.log("history",n)},children:"history"}),Object(h.jsx)("button",{onClick:function(){console.log("canvas",n)},children:"getcanvas"})]})},X=n(62),_=n(5),$=n(89),ee=n(356),te={List:{name:"List",items:[{id:Object(ee.a)(),content:"1 task"},{id:Object(ee.a)(),content:"2 task"},{id:Object(ee.a)(),content:"3 task"},{id:Object(ee.a)(),content:"4 task"},{id:Object(ee.a)(),content:"5 task"},{id:Object(ee.a)(),content:"6 task"},{id:Object(ee.a)(),content:"7 task"},{id:Object(ee.a)(),content:"8 task"},{id:Object(ee.a)(),content:"9 task"},{id:Object(ee.a)(),content:"10 task"},{id:Object(ee.a)(),content:"11 task"},{id:Object(ee.a)(),content:"12 task"},{id:Object(ee.a)(),content:"13 task"},{id:Object(ee.a)(),content:"14 task"},{id:Object(ee.a)(),content:"15 task"},{id:Object(ee.a)(),content:"16 task"},{id:Object(ee.a)(),content:"17 task"},{id:Object(ee.a)(),content:"18 task"},{id:Object(ee.a)(),content:"19 task"},{id:Object(ee.a)(),content:"20 task"},{id:Object(ee.a)(),content:"21 task"},{id:Object(ee.a)(),content:"22 task"},{id:Object(ee.a)(),content:"23 task"},{id:Object(ee.a)(),content:"24 task"},{id:Object(ee.a)(),content:"25 task"},{id:Object(ee.a)(),content:"26 task"},{id:Object(ee.a)(),content:"27 task"},{id:Object(ee.a)(),content:"28 task"},{id:Object(ee.a)(),content:"29 task"},{id:Object(ee.a)(),content:"30 task"}]}};var ne=function(){var e=Object(c.useState)(te),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)("div",{children:Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:"60rem"},children:Object(h.jsx)($.a,{onDragEnd:function(e){return function(e,t,n){if(e.destination){var a=e.source,c=e.destination;if(a.droppableId!==c.droppableId){var r,o=t[a.droppableId],i=t[c.droppableId],s=Object(g.a)(o.items),l=Object(g.a)(i.items),d=s.splice(a.index,1),u=Object(p.a)(d,1)[0];l.splice(c.index,0,u),n(Object(_.a)(Object(_.a)({},t),{},(r={},Object(X.a)(r,a.droppableId,Object(_.a)(Object(_.a)({},o),{},{items:s})),Object(X.a)(r,c.droppableId,Object(_.a)(Object(_.a)({},i),{},{items:l})),r)))}else{var A=t[a.droppableId],h=Object(g.a)(A.items),f=h.splice(a.index,1),b=Object(p.a)(f,1)[0];h.splice(c.index,0,b),n(Object(_.a)(Object(_.a)({},t),{},Object(X.a)({},a.droppableId,Object(_.a)(Object(_.a)({},A),{},{items:h}))))}}}(e,n,a)},children:Object.entries(n).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(h.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",justifyContent:"center",alignContent:"center"},children:Object(h.jsx)("div",{children:Object(h.jsx)($.c,{droppableId:a,direction:"horizontal",justifyContent:"center",alignContent:"center",children:function(e,t){return Object(h.jsxs)("div",Object(_.a)(Object(_.a)({},e.droppableProps),{},{ref:e.innerRef,style:{background:t.isDraggingOver?"lightblue":"white",padding:4,display:"flex",flexDirection:"row",overflowX:"auto",width:"100vw",justifyContent:"space-around",minHeight:"8rem",alignContent:"center"},children:[c.items.map((function(e,t){return Object(h.jsx)($.b,{draggableId:e.id,index:t,children:function(t,n){return Object(h.jsx)("div",Object(_.a)(Object(_.a)(Object(_.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:Object(_.a)({userSelect:"none",padding:4,height:"6rem",minHeight:"6rem",width:"4rem",minWidth:"4rem",backgroundColor:n.isDragging?"#263B4A":"#456C86",color:"white",border:"1px solid black"},t.draggableProps.style),children:e.content}))}},e.id)})),e.placeholder]}))}},a)})},a)}))})})})},ae=n(24),ce=n(54),re=n(14);function oe(e){var t=Object(ce.e)({id:e.id}),n=t.attributes,a=t.listeners,c=t.setNodeRef,r=t.transform,o=t.transition,i={transform:re.a.Transform.toString(r),transition:o};return Object(h.jsxs)("div",Object(_.a)(Object(_.a)(Object(_.a)({ref:c,style:i},n),a),{},{children:[e.id,"\ubc88\uc774\ub2e4"]}))}var ie=function(){var e=Object(c.useState)(["1","2","3"]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(ae.n)(Object(ae.m)(ae.d),Object(ae.m)(ae.c,{coordinateGetter:ce.d}));return Object(h.jsx)(ae.a,{sensors:r,collisionDetection:ae.e,onDragEnd:function(e){var t=e.active,n=e.over;t.id!==n.id&&a((function(e){var a=e.indexOf(t.id),c=e.indexOf(n.id);return Object(ce.b)(e,a,c)}))},children:Object(h.jsx)(ce.a,{items:n,strategy:ce.c,children:n.map((function(e){return Object(h.jsx)(oe,{id:e},e)}))})})},se=n(107),le=(n(342),Object(se.b)((function(e){var t=e.value;return Object(h.jsx)("li",{children:t})}))),de=Object(se.a)((function(e){var t=e.items;return Object(h.jsx)("ul",{children:t.map((function(e,t){return Object(h.jsx)(le,{index:t,value:e},"item-".concat(t))}))})})),ue=function(){var e=Object(c.useState)(["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 1","Item 2","Item 3","Item 4","Item 5","Item 6"]),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)("div",{children:Object(h.jsx)(de,{axis:"xy",items:n,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;a((function(e){return function(e,t,n){var a=Array.from(e),c=a.splice(t,1),r=Object(p.a)(c,1)[0];return a.splice(n,0,r),a}(e,t,n)}))}})})},Ae=(n(343),function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)},a.readAsDataURL(e)}))}),he=function(){var e=Object(c.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1],o=r.a.useReducer((function(){return{}}),{})[1],i=function(){var e=new N.fabric.Canvas("canvas",{height:800,width:800,controlsAboveOverlay:!0,backgroundColor:"#fff"});e.on("history:append",(function(){o()}));var t=new N.fabric.Rect({width:400,height:400,left:200,top:200,stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1});return e.clipPath=t,e.on("after:render",(function(t){!function(t){t||(t=25);var n,a,c=e.getContext("2d"),r=e.getWidth(),o=e.getHeight();for(n=0;n<=r;n+=t)c.moveTo(n+.5,0),c.lineTo(n+.5,o);for(a=0;a<=o;a+=t)c.moveTo(0,a+.5),c.lineTo(r,a+.5);c.strokeStyle="#0000002b",c.stroke()}(100)})),e.renderAll(),e},s=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files[0],t.target.files.forEach((function(e){l(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae(t).then((function(e){try{var t=document.createElement("img");t.src=e,t.onload=function(){console.log("20 / imgElement.width",20/t.width,t.width);var e=new N.fabric.Image(t,{angle:0,opacity:1,cornerSize:10,borderColor:"red",cornerColor:"green",scaleX:360/t.width,scaleY:360/t.height});n.add(e)}}catch(a){alert(a),console.log("e",a)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a(i())}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{multiple:!0,type:"file",id:"imageFile",name:"imageFile",onChange:s}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{style:{position:"relative",width:"100%",minHeight:"650px"},children:Object(h.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{id:"canvas",width:1280,height:1280,style:{border:"1px solid gray"}})})})})}),Object(h.jsx)("button",{onClick:function(){var e=document.createElement("a");e.download="from_canvas.png",e.href=n.toDataURL({format:"png",quality:.8}),console.log("aTag.href",e.href),e.click()},children:"\ub2e4\uc6b4\ub85c\ub4dc"})]})};var fe=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.a,{children:Object(h.jsxs)(r.a.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:[Object(h.jsx)("ul",{style:{textAlign:"center"},children:Object(h.jsx)("li",{style:{display:"inline-block",border:"1px solid red",margin:"0 5px"},children:Object(h.jsx)(s.b,{to:"/fabric2",children:"Fabric2"})})}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/dndkit",component:ie}),Object(h.jsx)(l.b,{exact:!0,path:"/dndgrid",component:ue}),Object(h.jsx)(l.b,{exact:!0,path:"/reactdnd",component:ne}),Object(h.jsx)(l.b,{exact:!0,path:"/image",component:f}),Object(h.jsx)(l.b,{exact:!0,path:"/merge",component:E}),Object(h.jsx)(l.b,{exact:!0,path:"/save",component:R}),Object(h.jsx)(l.b,{exact:!0,path:"/exif",component:F}),Object(h.jsx)(l.b,{exact:!0,path:"/toast",component:B}),Object(h.jsx)(l.b,{exact:!0,path:"/reactcropper",component:D}),Object(h.jsx)(l.b,{exact:!0,path:"/fabric",component:Q}),Object(h.jsx)(l.b,{exact:!0,path:"/fabric2",component:he}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricgrid",component:W}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricmerge",component:q}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricfilter",component:V}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricundo",component:M}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricclippath",component:K}),Object(h.jsx)(l.b,{exact:!0,path:"/fabricalert",component:Z}),Object(h.jsx)(l.b,{exact:!0,path:"/",children:Object(h.jsx)(l.a,{to:"/image"})})]})]})})})};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(fe,{})}),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.09a83fea.chunk.js.map